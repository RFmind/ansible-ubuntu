---
- name: Ensure git is installed
  apt:
    name: git
    state: present
  become: yes

- name: Ensure neovim ppa is added
  apt_repository:
    repo: ppa:neovim-ppa/unstable
  become: yes

- name: Ensure neovim is installed
  apt:
    name: neovim
    update_cache: yes
  become: yes

- name: Ensure .config/nvim directory exists
  file:
    path: ~/.config/nvim
    state: directory
  become: no

- name: Clone neovim config
  git:
    repo: https://ruslan_filimonov@bitbucket.org/ruslan_filimonov/neovimconfig
    dest: ~/Code/neovimconfig
  become: no

- name: Copy neovim config
  copy:
    src: ~/Code/neovimconfig/init.vim
    dest: ~/.config/nvim/init.vim
  become: no

